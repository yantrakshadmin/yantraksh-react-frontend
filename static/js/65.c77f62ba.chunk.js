(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{206:function(e,a,t){"use strict";var n=t(3),s=t.n(n),r=t(6),c=t(12),o=t(33),l=t(34),m=t(36),p=t(35),i=t(37),u=t(0),h=t.n(u),d=t(121),b=t(141),E=t(136),f=t(137),y=t(150),g=t(151),v=t(176),w=t(266),N=t(267),k=t(166),x=t(265),j=t(26),C=t(11),S=t(19),O=t(41),_=t(17),L=t(45),T="^[\\w.@+-]+$",A=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(p.a)(a).call(this,e))).signUpLoadingButton=function(){return 1===t.state.phase?h.a.createElement(d.a,{color:"success",block:!0,disabled:!0},h.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Loading"):h.a.createElement(d.a,{color:"success",block:!0},"Create Account")},t.handleChange=function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,s=a.name;t.setState(Object(c.a)({},s,n))},t.onSubmit=function(){var e=Object(r.a)(s.a.mark(function e(a){var n,r,c,o,l,m,p,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t.setState({phase:1}),n=[],t.state.username.match(T)){e.next=7;break}S.b.error("Username not valid"),e.next=11;break;case 7:return e.next=9,Object(j.L)(t.state.username);case 9:(r=e.sent).available||n.push("Username '".concat(r.username,"' not available"));case 11:if(t.state.confirmpass!==t.state.password&&n.push("Password and confirm password is not same"),0===n.length){e.next=16;break}S.b.error(n.join("\n")),e.next=46;break;case 16:if("Supplier"!==t.props.type){e.next=30;break}return e.prev=17,e.next=20,Object(j.Y)(t.state);case 20:return Object(C.i)("Supplier"),e.next=23,t.setState({phase:0});case 23:t.props.signInAction(t.state.username,t.state.password),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(17),Object(C.h)(),console.log(e.t0);case 30:if("Shipper"!==t.props.type){e.next=45;break}return e.prev=31,c=t.state,o=c.username,l=c.email,m=c.password,p=c.company_code,i=c.company_name,e.next=35,Object(j.X)({username:o,email:l,password:m,company_name:i,company_code:p});case 35:return Object(C.i)("Shipper"),e.next=38,t.setState({phase:0});case 38:t.props.signInAction(t.state.username,t.state.password),e.next=45;break;case 41:e.prev=41,e.t1=e.catch(31),Object(C.h)(),console.log(e.t1);case 45:t.setState({phase:0});case 46:case"end":return e.stop()}},e,null,[[17,26],[31,41]])}));return function(a){return e.apply(this,arguments)}}(),t.state={username:"",email:"",password:"",confirmpass:"",company_code:"",company_name:"",companiesList:[],phase:0},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;"Shipper"===this.props.type?Object(j.w)(j.a).then(function(a){e.setState({companiesList:a})}).catch(function(e){return console.log(e)}):"Supplier"===this.props.type&&Object(j.w)(j.b).then(function(a){e.setState({companiesList:a})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,a=this.state.companiesList;return this.props.isAuthenticated?h.a.createElement(L.a,{to:"".concat(this.props.redirectTo.split("#")[1])}):h.a.createElement("div",{className:"app flex-row align-items-center"},h.a.createElement(b.a,null,h.a.createElement(E.a,{className:"justify-content-center"},h.a.createElement(f.a,{md:"9",lg:"7",xl:"6"},h.a.createElement(y.a,{className:"mx-4"},h.a.createElement(g.a,{className:"p-4"},h.a.createElement(v.a,{onSubmit:this.onSubmit},h.a.createElement("input",{type:"hidden",className:"form-control",name:"user-type",value:this.props.type}),h.a.createElement("h1",null,"Register for ",this.props.type),h.a.createElement("p",{className:"text-muted"},"Create your account"),h.a.createElement(w.a,{className:"mb-3"},h.a.createElement(N.a,{addonType:"prepend"},h.a.createElement(k.a,null,h.a.createElement("i",{className:"icon-user"}))),h.a.createElement("input",{type:"text",placeholder:"Username",className:"form-control",name:"username",onChange:this.handleChange,value:this.state.username})),h.a.createElement(w.a,{className:"mb-3"},h.a.createElement(N.a,{addonType:"prepend"},h.a.createElement(k.a,null,"@")),h.a.createElement("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange,value:this.state.email})),h.a.createElement(w.a,{className:"mb-3"},h.a.createElement(N.a,{addonType:"prepend"},h.a.createElement(k.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"form-control",onChange:this.handleChange,value:this.state.password})),h.a.createElement(w.a,{className:"mb-4"},h.a.createElement(N.a,{addonType:"prepend"},h.a.createElement(k.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"confirmpass",className:"form-control",onChange:this.handleChange,value:this.state.confirmpass})),h.a.createElement(w.a,{className:"mb-4"},h.a.createElement("div",{className:"input-group-prepend"},h.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Company")),h.a.createElement("select",{onChange:function(a){e.setState({company_name:a.target.value})},className:"custom-select",id:"inputGroupSelect01"},h.a.createElement("option",{selected:!0},"Choose..."),a.map(function(e){return h.a.createElement("option",{key:e.company_name},e.company_name)}))),h.a.createElement(w.a,{className:"mb-4"},h.a.createElement(N.a,{addonType:"prepend"},h.a.createElement(k.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"number",placeholder:"Company Code",name:"company_code",className:"form-control",onChange:this.handleChange,value:this.state.company_code})),this.state.password!==this.state.confPass?"Password and confirm password should be same":"",h.a.createElement("br",null),h.a.createElement("br",null),this.signUpLoadingButton())),h.a.createElement(x.a,{className:"p-4"}))))))}}]),a}(u.Component);a.a=Object(_.b)(function(e){return{isAuthenticated:e.auth.authenticated,redirectTo:e.navigation.redirectTo}},function(e){return{signInAction:function(a,t){return e(Object(O.b)(a,t))}}})(A)},574:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(206);a.default=function(){return s.a.createElement(r.a,{type:"Supplier"})}}}]);
//# sourceMappingURL=65.c77f62ba.chunk.js.map