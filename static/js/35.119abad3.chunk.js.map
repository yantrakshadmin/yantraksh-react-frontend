{"version":3,"sources":["screens/shipper/forms/addMastersVehicle.js"],"names":["AddMastersItem","props","_useState","useState","name","category","length","breadth","height","volume","weight","_useState2","Object","_Users_faisal_Desktop_yantraksh_ppp_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","form","setForm","useEffect","match","params","id","_ref","_Users_faisal_Desktop_yantraksh_ppp_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_faisal_Desktop_yantraksh_ppp_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","itemData","wrap","_context","prev","next","fetchShipperMasterVehicle","sent","stop","apply","this","arguments","fetchItemData","_useState3","_useState4","phase","setPhase","handleInputChange","useCallback","event","target","value","type","checked","_objectSpread","_Users_faisal_Desktop_yantraksh_ppp_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","renderOptions","data","map","o","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","key","btnLoader","reactstrap__WEBPACK_IMPORTED_MODULE_5__","color","size","disabled","className","role","aria-hidden","handleSubmit","_ref2","_callee2","_context2","preventDefault","editShipperMasterVehicle","toast","success","createShipperMasterVehicle","history","push","t0","error","_x","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","method","onSubmit","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","md","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","htmlFor","reactstrap__WEBPACK_IMPORTED_MODULE_14__","onChange","required","defaultValue","react_router_dom__WEBPACK_IMPORTED_MODULE_15__","to"],"mappings":"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","file":"static/js/35.119abad3.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardHeader, CardBody, Form, FormGroup, Row, Col, Label, Input, Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { createShipperMasterVehicle, fetchShipperMasterVehicle, editShipperMasterVehicle } from '../../../helpers/api';\nimport history from '../../../history';\n\n\nconst AddMastersItem = props => {\n\n    const optionsData = {\n        category: [\n            'Open',\n            'Container',\n            'Trailer',\n        ],\n    }\n\n    const [form, setForm] = useState({\n        name: '',\n        category: '',\n        length: 0,\n        breadth: 0,\n        height: 0,\n        volume: 0,\n        weight: 0,\n    })\n\n    useEffect(() => {\n        if (props.match.params.id) {\n            const fetchItemData = async () => {\n                const itemData = await fetchShipperMasterVehicle(props.match.params.id);\n                setForm(itemData);\n            }\n            fetchItemData();\n        }\n    }, [setForm])\n\n    const [phase, setPhase] = useState(0);\n\n    const handleInputChange = useCallback(\n        event => {\n            const target = event.target;\n            const value = target.type === 'checkbox' ? target.checked : target.value;\n            const name = target.name;\n\n            setForm({\n                ...form,\n                [name]: value\n            });\n        },\n        [form, setForm]\n    )\n\n    const renderOptions = useCallback(\n        data => {\n            return data.map(o => {\n                return <option key={o} value={o}>{o}</option>;\n            });\n        },\n        []\n    )\n\n    const btnLoader = useCallback(\n        () => {\n            if (phase === 1) {\n                return (\n                    <Button color=\"primary\" size=\"lg\" disabled>\n                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Saving\n                    </Button>\n                );\n            }\n            return <Button type=\"submit\" color=\"primary\" size=\"lg\">Save</Button>;\n        },\n        [phase,]\n    )\n\n    const handleSubmit = useCallback(\n        async event => {\n            event.preventDefault();\n            setPhase(1);\n            try {\n                if (props.match.params.id) {\n                    await editShipperMasterVehicle(props.match.params.id, form);\n                    setPhase(0);\n                    toast.success('Vehicle Updated Successfully');\n                } else {\n                    await createShipperMasterVehicle(form);\n                    setPhase(0);\n                    toast.success('Vehicle Created Successfully');\n                    history.push('/dashboard/masters/vehicles');\n                }\n\n            } catch (err) {\n                toast.error('Something went wrong!');\n                setPhase(0);\n            }\n        },\n        [form, setPhase,]\n    )\n\n    return (\n        <div className=\"animated fadeIn\">\n            <Card>\n                <CardHeader>\n                    {props.match.params.id ? <b>Edit Vehicle</b> : <b>Add Vehicle</b>}\n                </CardHeader>\n                <CardBody>\n                    <Form method=\"post\" onSubmit={handleSubmit}>\n\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"name\">Name*</Label>\n                                    <Input type=\"text\" name=\"name\" id=\"name\" value={form.name}\n                                        onChange={handleInputChange} required />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"category\">Category</Label>\n                                    <Input type=\"select\" id=\"category\"\n                                        name={\"category\"}\n                                        value={form.category}\n                                        onChange={handleInputChange}\n                                    >\n                                        <option value={\"\"} defaultValue>Select Category</option>\n                                        {renderOptions(optionsData.category)}\n                                    </Input>\n                                </FormGroup>\n                            </Col>\n                        </Row>\n\n                        <hr />\n\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"length\">Length (Ft)</Label>\n                                    <Input type=\"number\" name=\"length\" id=\"length\" value={form.length}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"breadth\">Breadth (Ft)</Label>\n                                    <Input type=\"number\" name=\"breadth\" id=\"breadth\" value={form.breadth}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"height\">Height (Ft)</Label>\n                                    <Input type=\"number\" name=\"height\" id=\"height\" value={form.height}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"volume\">Volume</Label>\n                                    <Input type=\"number\" name=\"volume\" id=\"volume\" value={form.volume}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"weight\">Weight (Tn)</Label>\n                                    <Input type=\"number\" name=\"weight\" id=\"weight\" value={form.weight}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n\n                        <hr />\n\n                        {btnLoader()}\n                        {' '}\n                        <Link to=\"/masters/vehicles\">\n                            <Button type=\"button\" color=\"link\" size=\"lg\">Cancel</Button>\n                        </Link>\n                    </Form>\n                </CardBody>\n            </Card>\n        </div>\n    )\n}\n\nexport default AddMastersItem;\n"],"sourceRoot":""}