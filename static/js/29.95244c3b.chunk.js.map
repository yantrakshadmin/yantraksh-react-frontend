{"version":3,"sources":["screens/supplier/forms/invoiceForm.js"],"names":["InvoiceForm","props","_useState","useState","invoice_quiz","customer_name_id","invoice_number","invoice_date","invoice_due_date","place_of_supply","service_month","invoice_transactions","company_notes","terms_and_conditions","_useState2","Object","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","form","setForm","_useState3","invoice_transaction_desc","invoice_transaction_lr","invoice_transaction_vehicle","invoice_transaction_date","invoice_transaction_qty","invoice_transaction_rate","invoice_transaction_gst","invoice_transaction_amount","_useState4","itemsForm","setItemsForm","useEffect","match","params","id","_ref","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","mark","_callee","invoiceData","wrap","_context","prev","next","fetchSupplierInvoice","sent","customer_name","stop","apply","this","arguments","fetchInvoiceData","_useState5","_useState6","customers","setCustomers","_useState7","_useState8","items","setItems","getCustomersData","_ref2","_callee2","data","_context2","fetchMasterCustomers","getItemsData","_ref3","_callee3","_context3","fetchMasterItems","_useState9","_useState10","phase","setPhase","renderCustomerOptions","useCallback","length","map","o","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","key","value","primary_contact","company_name","renderCustomerInput","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","type","concat","get_shipper","shipper_fname","shipper_lname","disabled","htmlFor","name","onChange","handleInputChange","required","defaultValue","renderItemsOptions","event","target","checked","_objectSpread","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","handleItemsInputChange","calculateItemAmount","q","r","g","parseFloat","addItem","_callee4","amount","_context4","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","deleteItem","_ref5","_callee5","i","_context5","filter","e","cp_name","_x","renderItemsList","idx","reactstrap__WEBPACK_IMPORTED_MODULE_9__","title","onClick","color","size","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_17__","icon","faMinus","btnLoader","class","role","aria-hidden","handleSubmit","_ref6","_callee6","_context6","preventDefault","console","log","editSupplierInvoice","toast","success","createSupplierInvoice","history","push","t0","error","_x2","className","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","method","onSubmit","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","md","reactstrap__WEBPACK_IMPORTED_MODULE_16__","striped","responsive","placeholder","bsSize","faPlus","react_router_dom__WEBPACK_IMPORTED_MODULE_19__","to"],"mappings":"+2BA4ZeA,UA5YK,SAAAC,GAAS,IAAAC,EAEDC,mBAAS,CAC7BC,aAAc,GACdC,iBAAkB,GAClBC,eAAgB,GAChBC,aAAc,GACdC,iBAAkB,GAElBC,gBAAiB,GACjBC,cAAe,GAEfC,qBAAsB,GAEtBC,cAAe,GACfC,qBAAsB,KAfDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAb,EAAA,GAElBe,EAFkBH,EAAA,GAEZI,EAFYJ,EAAA,GAAAK,EAkBShB,mBAAS,CACvCiB,yBAA0B,GAC1BC,uBAAwB,GACxBC,4BAA6B,GAC7BC,yBAA0B,GAC1BC,wBAAyB,EACzBC,yBAA0B,EAC1BC,wBAAyB,EACzBC,2BAA4B,IA1BPC,EAAAb,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAkBlBU,EAlBkBD,EAAA,GAkBPE,EAlBOF,EAAA,GA6BzBG,oBAAU,WACF9B,EAAM+B,MAAMC,OAAOC,IACG,eAAAC,EAAApB,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACKC,YAAqB7C,EAAM+B,MAAMC,OAAOC,IAD7C,QACfO,EADeE,EAAAI,MAELC,cACZ9B,EAAQ,CACJd,aAAcqC,EAAYrC,aAC1BC,iBAAkBoC,EAAYO,cAAcd,GAC5C5B,eAAgBmC,EAAYnC,eAC5BC,aAAckC,EAAYlC,aAC1BC,iBAAkBiC,EAAYjC,iBAC9BC,gBAAiBgC,EAAYhC,gBAC7BC,cAAe+B,EAAY/B,cAC3BC,qBAAsB8B,EAAY9B,qBAClCC,cAAe6B,EAAY7B,cAC3BC,qBAAsB4B,EAAY5B,uBAE/B4B,EAAYrC,cACnBc,EAAQ,CACJd,aAAcqC,EAAYrC,aAC1BC,iBAAkBoC,EAAYO,cAC9B1C,eAAgBmC,EAAYnC,eAC5BC,aAAckC,EAAYlC,aAC1BC,iBAAkBiC,EAAYjC,iBAC9BC,gBAAiBgC,EAAYhC,gBAC7BC,cAAe+B,EAAY/B,cAC3BC,qBAAsB8B,EAAY9B,qBAClCC,cAAe6B,EAAY7B,cAC3BC,qBAAsB4B,EAAY5B,uBA1BrB,wBAAA8B,EAAAM,SAAAT,MAAH,yBAAAL,EAAAe,MAAAC,KAAAC,YAAA,EA8BtBC,IAEL,IA/DsB,IAAAC,EAiESnD,mBAAS,IAjElBoD,EAAAxC,OAAAC,EAAA,EAAAD,CAAAuC,EAAA,GAiElBE,EAjEkBD,EAAA,GAiEPE,EAjEOF,EAAA,GAAAG,EAkECvD,mBAAS,IAlEVwD,EAAA5C,OAAAC,EAAA,EAAAD,CAAA2C,EAAA,GAkElBE,EAlEkBD,EAAA,GAkEXE,EAlEWF,EAAA,GAoEzB5B,oBAAU,WACN,IAAM+B,EAAgB,eAAAC,EAAAhD,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KAAG,SAAAyB,IAAA,IAAAC,EAAA,OAAA5B,EAAAC,EAAAI,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EACFsB,cADE,OACfF,EADeC,EAAAnB,KAErBU,EAAaQ,GAFQ,wBAAAC,EAAAjB,SAAAe,MAAH,yBAAAD,EAAAb,MAAAC,KAAAC,YAAA,GAIhBgB,EAAY,eAAAC,EAAAtD,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KAAG,SAAA+B,IAAA,IAAAL,EAAA,OAAA5B,EAAAC,EAAAI,KAAA,SAAA6B,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,cAAA0B,EAAA1B,KAAA,EACE2B,cADF,OACXP,EADWM,EAAAxB,KAEjBc,EAASI,GAFQ,wBAAAM,EAAAtB,SAAAqB,MAAH,yBAAAD,EAAAnB,MAAAC,KAAAC,YAAA,GAIlBU,IACAM,KACD,IA/EsB,IAAAK,EAiFCtE,mBAAS,GAjFVuE,EAAA3D,OAAAC,EAAA,EAAAD,CAAA0D,EAAA,GAiFlBE,EAjFkBD,EAAA,GAiFXE,EAjFWF,EAAA,GAmFnBG,EAAwBC,sBAC1B,SAAAb,GACI,GAAIA,EAAKc,OAAS,EACd,OAAOd,EAAKe,IAAI,SAAAC,GACZ,OAAOC,EAAA5C,EAAA6C,cAAA,UAAQC,IAAKH,EAAE/C,GAAImD,MAAOJ,EAAE/C,IAAK+C,EAAEK,gBAAnC,MAAuDL,EAAEM,iBAI5E,IAGEC,EAAsBV,sBACxB,WACI,OAAI7D,EAAKb,aAED8E,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,uBACAR,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOP,MAAK,GAAAQ,OAAK5E,EAAKb,aAAa0F,YAAYC,cAAnC,KAAAF,OAAoD5E,EAAKb,aAAa0F,YAAYE,eAAiBC,UAAQ,KAKvIf,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,oBAAf,kBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,mBAAmBjE,GAAG,mBAAmBmD,MAAOpE,EAAKZ,iBAC3E+F,SAAUC,EAAmBC,UAAQ,GACrCpB,EAAA5C,EAAA6C,cAAA,UAAQE,MAAO,GAAIkB,cAAY,GAA/B,mBACC1B,EAAsBrB,MAM3C,CAACvC,IAGCuF,EAAqB1B,sBACvB,SAAAb,GACI,GAAIA,EAAKc,OAAS,EACd,OAAOd,EAAKe,IAAI,SAAAC,GACZ,OAAOC,EAAA5C,EAAA6C,cAAA,UAAQC,IAAKH,EAAE/C,GAAImD,MAAK,GAAAQ,OAAKZ,EAAEkB,KAAP,OAAAN,OAAiBZ,EAAEW,OAASX,EAAEkB,KAAtD,MAA+DlB,EAAEW,SAIpF,IAGES,EAAoBvB,sBACtB,SAAA2B,GACI,IAAMC,EAASD,EAAMC,OACfrB,EAAwB,aAAhBqB,EAAOd,KAAsBc,EAAOC,QAAUD,EAAOrB,MAC7Dc,EAAOO,EAAOP,KAEpBjF,EAAO0F,EAAA,GACA3F,EADAF,OAAA8F,EAAA,EAAA9F,CAAA,GAEFoF,EAAOd,MAGhB,CAACpE,EAAMC,IAGL4F,EAAyBhC,sBAC3B,SAAA2B,GACI,IAAMC,EAASD,EAAMC,OACfrB,EAAwB,aAAhBqB,EAAOd,KAAsBc,EAAOC,QAAUD,EAAOrB,MAC7Dc,EAAOO,EAAOP,KAEpBrE,EAAY8E,EAAA,GACL/E,EADKd,OAAA8F,EAAA,EAAA9F,CAAA,GAEPoF,EAAOd,MAGhB,CAACxD,EAAWC,IAGViF,EAAsBjC,sBACxB,SAACkC,EAAGC,EAAGC,GACH,OAAOC,WAAWH,GAAKG,WAAWF,GAAKE,WAAWD,IAEtD,CAACC,aAGCC,EAAUtC,sBAAW/D,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KACvB,SAAA8E,IAAA,IAAAC,EAAA,OAAAjF,EAAAC,EAAAI,KAAA,SAAA6E,GAAA,cAAAA,EAAA3E,KAAA2E,EAAA1E,MAAA,OACUyE,EAASP,EAAoBlF,EAAUL,wBAAyBK,EAAUJ,yBAA0BI,EAAUH,yBACpHR,EAAO0F,EAAA,GAAM3F,EAAN,CAAYN,qBAAoB,GAAAkF,OAAA9E,OAAAyG,EAAA,EAAAzG,CAAME,EAAKN,sBAAX,CAAAiG,EAAA,GAAsC/E,EAAtC,CAAiDF,2BAA4B2F,SACpHxF,EAAa,CACTV,yBAA0B,GAC1BC,uBAAwB,EACxBC,4BAA6B,GAC7BC,yBAA0B,GAC1BC,wBAAyB,EACzBC,yBAA0B,EAC1BC,wBAAyB,EACzBC,2BAA4B,IAXpC,wBAAA4F,EAAAtE,SAAAoE,MAcA,CAACpG,EAAMC,EAASW,EAAWC,IAGzB2F,EAAa3C,sBAAW,eAAA4C,EAAA3G,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KAC1B,SAAAoF,EAAMC,GAAN,OAAAvF,EAAAC,EAAAI,KAAA,SAAAmF,GAAA,cAAAA,EAAAjF,KAAAiF,EAAAhF,MAAA,OAEQ3B,EAAO0F,EAAA,GAAM3F,EADb,OAAQ2G,EACD,CAAYjH,qBAAsBM,EAAKN,qBAAqBmH,OAAO,SAAAC,GAAC,OAAIA,EAAE7F,KAAO0F,EAAE1F,MAEnF,CAAYvB,qBAAsBM,EAAKN,qBAAqBmH,OAAO,SAAAC,GAAC,OAAIA,EAAEC,UAAYJ,EAAEI,aAJvG,wBAAAH,EAAA5E,SAAA0E,MAD0B,gBAAAM,GAAA,OAAAP,EAAAxE,MAAAC,KAAAC,YAAA,GAQ1B,CAACnC,EAAMC,IAGLgH,GAAkBpD,sBACpB,WACI,GAAI7D,EAAKN,qBACL,OAAOM,EAAKN,qBAAqBqE,IAAI,SAAC4C,EAAGO,GACrC,OACIjD,EAAA5C,EAAA6C,cAAA,MAAIC,IAAK+C,GACLjD,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAExG,0BACP8D,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAEvG,wBACP6D,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAEtG,6BACP4D,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAErG,0BACP2D,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAEpG,yBACP0D,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAEnG,0BACPyD,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAElG,yBACPwD,EAAA5C,EAAA6C,cAAA,UAAKyC,EAAEjG,4BACPuD,EAAA5C,EAAA6C,cAAA,UACID,EAAA5C,EAAA6C,cAACiD,EAAA,EAAD,CAAQxC,KAAK,SAASyC,MAAM,cAAcC,QAAS,kBAAMb,EAAWG,IAAIW,MAAM,SAASC,KAAK,MACxFtD,EAAA5C,EAAA6C,cAACsD,EAAA,EAAD,CAAiBC,KAAMC,YAQnD,CAAC1H,IAGC2H,GAAY9D,sBACd,WACI,OAAc,IAAVH,EAEIO,EAAA5C,EAAA6C,cAACiD,EAAA,EAAD,CAAQG,MAAM,UAAUC,KAAK,KAAKvC,UAAQ,GACtCf,EAAA5C,EAAA6C,cAAA,QAAM0D,MAAM,mCAAmCC,KAAK,SAASC,cAAY,SAD7E,WAKD7D,EAAA5C,EAAA6C,cAACiD,EAAA,EAAD,CAAQxC,KAAK,SAAS2C,MAAM,UAAUC,KAAK,MAA3C,SAEX,CAAC7D,IAGCqE,GAAelE,sBAAW,eAAAmE,EAAAlI,OAAAqB,EAAA,EAAArB,CAAAsB,EAAAC,EAAAC,KAC5B,SAAA2G,EAAMzC,GAAN,OAAApE,EAAAC,EAAAI,KAAA,SAAAyG,GAAA,cAAAA,EAAAvG,KAAAuG,EAAAtG,MAAA,UACI4D,EAAM2C,iBACNxE,EAAS,GACTyE,QAAQC,IAAIrI,GAHhBkI,EAAAvG,KAAA,GAKY3C,EAAM+B,MAAMC,OAAOC,GAL/B,CAAAiH,EAAAtG,KAAA,gBAAAsG,EAAAtG,KAAA,EAMkB0G,YAAoBtJ,EAAM+B,MAAMC,OAAOC,GAAIjB,GAN7D,OAOY2D,EAAS,GACT4E,IAAMC,QAAQ,gCAR1BN,EAAAtG,KAAA,wBAAAsG,EAAAtG,KAAA,GAUkB6G,YAAsBzI,GAVxC,QAWY2D,EAAS,GACT4E,IAAMC,QAAQ,gCACdE,IAAQC,KAAK,gCAbzB,QAAAT,EAAAtG,KAAA,iBAAAsG,EAAAvG,KAAA,GAAAuG,EAAAU,GAAAV,EAAA,SAgBQK,IAAMM,MAAM,yBACZlF,EAAS,GAjBjB,yBAAAuE,EAAAlG,SAAAiG,EAAA,kBAD4B,gBAAAa,GAAA,OAAAd,EAAA/F,MAAAC,KAAAC,YAAA,GAqB5B,CAACnC,EAAM0D,EAAOC,IAGlB,OACIM,EAAA5C,EAAA6C,cAAA,OAAK6E,UAAU,mBACX9E,EAAA5C,EAAA6C,cAAC8E,EAAA,EAAD,KACI/E,EAAA5C,EAAA6C,cAAC+E,EAAA,EAAD,KACKjK,EAAM+B,MAAMC,OAAOC,GAAKgD,EAAA5C,EAAA6C,cAAA,yBAAsBD,EAAA5C,EAAA6C,cAAA,4BAEnDD,EAAA5C,EAAA6C,cAACgF,EAAA,EAAD,KACIjF,EAAA5C,EAAA6C,cAACiF,EAAA,EAAD,CAAMC,OAAO,OAAOC,SAAUtB,IAE1B9D,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACJjF,MAGTN,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,kBAAf,aACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,iBAAiBjE,GAAG,iBAAiBmD,MAAOpE,EAAKX,eACrE8F,SAAUC,EAAmBC,UAAQ,OAIrDpB,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,gBAAf,iBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,eAAejE,GAAG,eAAemD,MAAOpE,EAAKV,aACjE6F,SAAUC,EAAmBC,UAAQ,MAGjDpB,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,oBAAf,qBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,mBAAmBjE,GAAG,mBAAmBmD,MAAOpE,EAAKT,iBACzE4F,SAAUC,EAAmBC,UAAQ,OAKrDpB,EAAA5C,EAAA6C,cAAA,WAEAD,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,mBAAf,mBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,kBAAkBjE,GAAG,kBAAkBmD,MAAOpE,EAAKR,gBACvE2F,SAAUC,OAI1BnB,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,iBAAf,iBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,gBAAgBjE,GAAG,gBAAgBmD,MAAOpE,EAAKP,cACnE0F,SAAUC,OAK1BnB,EAAA5C,EAAA6C,cAAA,WAEAD,EAAA5C,EAAA6C,cAACuF,EAAA,EAAD,CAAOV,UAAU,OAAOW,SAAO,EAACC,YAAU,GACtC1F,EAAA5C,EAAA6C,cAAA,aACID,EAAA5C,EAAA6C,cAAA,UACID,EAAA5C,EAAA6C,cAAA,0BACAD,EAAA5C,EAAA6C,cAAA,oBACAD,EAAA5C,EAAA6C,cAAA,wBACAD,EAAA5C,EAAA6C,cAAA,kBACAD,EAAA5C,EAAA6C,cAAA,iBACAD,EAAA5C,EAAA6C,cAAA,kBACAD,EAAA5C,EAAA6C,cAAA,iBACAD,EAAA5C,EAAA6C,cAAA,oBACAD,EAAA5C,EAAA6C,cAAA,sBAGRD,EAAA5C,EAAA6C,cAAA,aACK+C,KACDhD,EAAA5C,EAAA6C,cAAA,UACID,EAAA5C,EAAA6C,cAAA,UACID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,2BAA2Bd,MAAOxD,EAAUT,yBAA0BgF,SAAUU,EAAwB+D,YAAY,eAAeC,OAAO,MAChK5F,EAAA5C,EAAA6C,cAAA,UAAQE,MAAO,GAAIkB,cAAY,GAA/B,eACCC,EAAmB5C,KAG5BsB,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,yBAAyBd,MAAOxD,EAAUR,uBAAwB+E,SAAUU,EAAwBgE,OAAO,QACzI5F,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,8BAA8Bd,MAAOxD,EAAUP,4BAA6B8E,SAAUU,EAAwBgE,OAAO,QACjJ5F,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,OAAOO,KAAK,2BAA2Bd,MAAOxD,EAAUN,yBAA0B6E,SAAUU,EAAwBgE,OAAO,QAC3I5F,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,0BAA0Bd,MAAOxD,EAAUL,wBAAyBsJ,OAAO,KAAK1E,SAAUU,KACxH5B,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,2BAA2Bd,MAAOxD,EAAUJ,yBAA0B2E,SAAUU,EAAwBgE,OAAO,QAC7I5F,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,0BAA0Bd,MAAOxD,EAAUH,wBAAyB0E,SAAUU,EAAwBgE,OAAO,QAC3I5F,EAAA5C,EAAA6C,cAAA,UAAID,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,SAASO,KAAK,6BAA6Bd,MAAO0B,EAAoBlF,EAAUL,wBAAyBK,EAAUJ,yBAA0BI,EAAUH,yBAA0BoJ,OAAO,KAAK7E,UAAQ,KACrNf,EAAA5C,EAAA6C,cAAA,UACID,EAAA5C,EAAA6C,cAACiD,EAAA,EAAD,CAAQxC,KAAK,SAASyC,MAAM,MAAMC,QAASlB,EAASmB,MAAM,UAAUC,KAAK,MACrEtD,EAAA5C,EAAA6C,cAACsD,EAAA,EAAD,CAAiBC,KAAMqC,WAO3C7F,EAAA5C,EAAA6C,cAAA,WAEAD,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,iBAAf,iBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,WAAWO,KAAK,gBAAgBjE,GAAG,gBAAgBmD,MAAOpE,EAAKL,cACvEwF,SAAUC,OAI1BnB,EAAA5C,EAAA6C,cAACoF,EAAA,EAAD,KACIrF,EAAA5C,EAAA6C,cAACqF,EAAA,EAAD,CAAKC,GAAI,GACLvF,EAAA5C,EAAA6C,cAACM,EAAA,EAAD,KACIP,EAAA5C,EAAA6C,cAACO,EAAA,EAAD,CAAOQ,QAAQ,wBAAf,wBACAhB,EAAA5C,EAAA6C,cAACQ,EAAA,EAAD,CAAOC,KAAK,WAAWO,KAAK,uBAAuBjE,GAAG,uBAAuBmD,MAAOpE,EAAKJ,qBACrFuF,SAAUC,OAK1BnB,EAAA5C,EAAA6C,cAAA,WAECyD,KACA,IACD1D,EAAA5C,EAAA6C,cAAC6F,EAAA,EAAD,CAAMC,GAAG,sBACL/F,EAAA5C,EAAA6C,cAACiD,EAAA,EAAD,CAAQxC,KAAK,SAAS2C,MAAM,OAAOC,KAAK,MAAxC","file":"static/js/29.95244c3b.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n    Card, CardHeader, CardBody,\n    Form, FormGroup,\n    Row, Col,\n    TabContent, TabPane, Nav, NavItem, NavLink,\n    Label, Input, Button, Alert, Table,\n} from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport { createSupplierInvoice, fetchSupplierInvoice, editSupplierInvoice, fetchMasterCustomers, fetchMasterItems } from '../../../helpers/api';\nimport { toast } from 'react-toastify';\nimport history from '../../../history';\n\n\nconst InvoiceForm = props => {\n\n    const [form, setForm] = useState({\n        invoice_quiz: '',\n        customer_name_id: '',\n        invoice_number: '',\n        invoice_date: '',\n        invoice_due_date: '',\n\n        place_of_supply: '',\n        service_month: '',\n\n        invoice_transactions: [],\n\n        company_notes: '',\n        terms_and_conditions: '',\n    })\n\n    const [itemsForm, setItemsForm] = useState({\n        invoice_transaction_desc: '',\n        invoice_transaction_lr: '',\n        invoice_transaction_vehicle: '',\n        invoice_transaction_date: '',\n        invoice_transaction_qty: 0,\n        invoice_transaction_rate: 0,\n        invoice_transaction_gst: 0,\n        invoice_transaction_amount: 0,\n    });\n\n    useEffect(() => {\n        if (props.match.params.id) {\n            const fetchInvoiceData = async () => {\n                const invoiceData = await fetchSupplierInvoice(props.match.params.id);\n                if (invoiceData.customer_name) {\n                    setForm({\n                        invoice_quiz: invoiceData.invoice_quiz,\n                        customer_name_id: invoiceData.customer_name.id,\n                        invoice_number: invoiceData.invoice_number,\n                        invoice_date: invoiceData.invoice_date,\n                        invoice_due_date: invoiceData.invoice_due_date,\n                        place_of_supply: invoiceData.place_of_supply,\n                        service_month: invoiceData.service_month,\n                        invoice_transactions: invoiceData.invoice_transactions,\n                        company_notes: invoiceData.company_notes,\n                        terms_and_conditions: invoiceData.terms_and_conditions,\n                    });\n                } else if (invoiceData.invoice_quiz) {\n                    setForm({\n                        invoice_quiz: invoiceData.invoice_quiz,\n                        customer_name_id: invoiceData.customer_name,\n                        invoice_number: invoiceData.invoice_number,\n                        invoice_date: invoiceData.invoice_date,\n                        invoice_due_date: invoiceData.invoice_due_date,\n                        place_of_supply: invoiceData.place_of_supply,\n                        service_month: invoiceData.service_month,\n                        invoice_transactions: invoiceData.invoice_transactions,\n                        company_notes: invoiceData.company_notes,\n                        terms_and_conditions: invoiceData.terms_and_conditions,\n                    });\n                }\n            }\n            fetchInvoiceData();\n        }\n    }, [])\n\n    const [customers, setCustomers] = useState([]);\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        const getCustomersData = async () => {\n            const data = await fetchMasterCustomers();\n            setCustomers(data);\n        }\n        const getItemsData = async () => {\n            const data = await fetchMasterItems();\n            setItems(data);\n        }\n        getCustomersData();\n        getItemsData();\n    }, [])\n\n    const [phase, setPhase] = useState(0);\n\n    const renderCustomerOptions = useCallback(\n        data => {\n            if (data.length > 0) {\n                return data.map(o => {\n                    return <option key={o.id} value={o.id}>{o.primary_contact} | {o.company_name}</option>;\n                });\n            }\n        },\n        []\n    )\n\n    const renderCustomerInput = useCallback(\n        () => {\n            if (form.invoice_quiz) {\n                return (\n                    <FormGroup>\n                        <Label>Customer Name*</Label>\n                        <Input type=\"text\" value={`${form.invoice_quiz.get_shipper.shipper_fname} ${form.invoice_quiz.get_shipper.shipper_lname}`} disabled />\n                    </FormGroup>\n                );\n            } else {\n                return (\n                    <FormGroup>\n                        <Label htmlFor=\"customer_name_id\">Customer Name*</Label>\n                        <Input type=\"select\" name=\"customer_name_id\" id=\"customer_name_id\" value={form.customer_name_id}\n                            onChange={handleInputChange} required>\n                            <option value={\"\"} defaultValue>Select Customer</option>\n                            {renderCustomerOptions(customers)}\n                        </Input>\n                    </FormGroup>\n                );\n            }\n        },\n        [form,]\n    )\n\n    const renderItemsOptions = useCallback(\n        data => {\n            if (data.length > 0) {\n                return data.map(o => {\n                    return <option key={o.id} value={`${o.name} | ${o.type}`}>{o.name} | {o.type}</option>;\n                });\n            }\n        },\n        []\n    )\n\n    const handleInputChange = useCallback(\n        event => {\n            const target = event.target;\n            const value = target.type === 'checkbox' ? target.checked : target.value;\n            const name = target.name;\n\n            setForm({\n                ...form,\n                [name]: value\n            });\n        },\n        [form, setForm]\n    )\n\n    const handleItemsInputChange = useCallback(\n        event => {\n            const target = event.target;\n            const value = target.type === 'checkbox' ? target.checked : target.value;\n            const name = target.name;\n\n            setItemsForm({\n                ...itemsForm,\n                [name]: value,\n            });\n        },\n        [itemsForm, setItemsForm]\n    )\n\n    const calculateItemAmount = useCallback(\n        (q, r, g) => {\n            return parseFloat(q) * parseFloat(r) + parseFloat(g);\n        },\n        [parseFloat]\n    )\n\n    const addItem = useCallback(\n        async () => {\n            const amount = calculateItemAmount(itemsForm.invoice_transaction_qty, itemsForm.invoice_transaction_rate, itemsForm.invoice_transaction_gst);\n            setForm({ ...form, invoice_transactions: [...form.invoice_transactions, { ...itemsForm, invoice_transaction_amount: amount }] });\n            setItemsForm({\n                invoice_transaction_desc: '',\n                invoice_transaction_lr: 0,\n                invoice_transaction_vehicle: '',\n                invoice_transaction_date: '',\n                invoice_transaction_qty: 0,\n                invoice_transaction_rate: 0,\n                invoice_transaction_gst: 0,\n                invoice_transaction_amount: 0,\n            });\n        },\n        [form, setForm, itemsForm, setItemsForm]\n    )\n\n    const deleteItem = useCallback(\n        async i => {\n            if (\"id\" in i) {\n                setForm({ ...form, invoice_transactions: form.invoice_transactions.filter(e => e.id !== i.id) });\n            } else {\n                setForm({ ...form, invoice_transactions: form.invoice_transactions.filter(e => e.cp_name !== i.cp_name) });\n            }\n        },\n        [form, setForm]\n    )\n\n    const renderItemsList = useCallback(\n        () => {\n            if (form.invoice_transactions) {\n                return form.invoice_transactions.map((i, idx) => {\n                    return (\n                        <tr key={idx}>\n                            <td>{i.invoice_transaction_desc}</td>\n                            <td>{i.invoice_transaction_lr}</td>\n                            <td>{i.invoice_transaction_vehicle}</td>\n                            <td>{i.invoice_transaction_date}</td>\n                            <td>{i.invoice_transaction_qty}</td>\n                            <td>{i.invoice_transaction_rate}</td>\n                            <td>{i.invoice_transaction_gst}</td>\n                            <td>{i.invoice_transaction_amount}</td>\n                            <td>\n                                <Button type=\"button\" title=\"Delete Item\" onClick={() => deleteItem(i)} color=\"danger\" size=\"sm\">\n                                    <FontAwesomeIcon icon={faMinus} />\n                                </Button>\n                            </td>\n                        </tr>\n                    )\n                })\n            }\n        },\n        [form]\n    )\n\n    const btnLoader = useCallback(\n        () => {\n            if (phase === 1) {\n                return (\n                    <Button color=\"primary\" size=\"lg\" disabled>\n                        <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Saving\n                    </Button>\n                )\n            }\n            return <Button type=\"submit\" color=\"primary\" size=\"lg\">Save</Button>\n        },\n        [phase]\n    )\n\n    const handleSubmit = useCallback(\n        async event => {\n            event.preventDefault();\n            setPhase(1);\n            console.log(form)\n            try {\n                if (props.match.params.id) {\n                    await editSupplierInvoice(props.match.params.id, form);\n                    setPhase(0);\n                    toast.success('Invoice Updated Successfully');\n                } else {\n                    await createSupplierInvoice(form);\n                    setPhase(0);\n                    toast.success('Invoice Created Successfully');\n                    history.push('/dashboard/supplier/invoices');\n                }\n            } catch (err) {\n                toast.error('Something went wrong!');\n                setPhase(0);\n            }\n        },\n        [form, phase, setPhase]\n    )\n\n    return (\n        <div className=\"animated fadeIn\">\n            <Card>\n                <CardHeader>\n                    {props.match.params.id ? <b>Edit Invoice</b> : <b>Create Invoice</b>}\n                </CardHeader>\n                <CardBody>\n                    <Form method=\"post\" onSubmit={handleSubmit}>\n\n                        <Row>\n                            <Col md={4}>\n                                {renderCustomerInput()}\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"invoice_number\">Invoice#*</Label>\n                                    <Input type=\"text\" name=\"invoice_number\" id=\"invoice_number\" value={form.invoice_number}\n                                        onChange={handleInputChange} required />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"invoice_date\">Invoice Date*</Label>\n                                    <Input type=\"date\" name=\"invoice_date\" id=\"invoice_date\" value={form.invoice_date}\n                                        onChange={handleInputChange} required />\n                                </FormGroup>\n                            </Col>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"invoice_due_date\">Invoice Due Date*</Label>\n                                    <Input type=\"date\" name=\"invoice_due_date\" id=\"invoice_due_date\" value={form.invoice_due_date}\n                                        onChange={handleInputChange} required />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n\n                        <hr />\n\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"place_of_supply\">Place of Supply</Label>\n                                    <Input type=\"text\" name=\"place_of_supply\" id=\"place_of_supply\" value={form.place_of_supply}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"service_month\">Service Month</Label>\n                                    <Input type=\"text\" name=\"service_month\" id=\"service_month\" value={form.service_month}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n\n                        <hr />\n\n                        <Table className=\"mt-3\" striped responsive>\n                            <thead>\n                                <tr>\n                                    <th>Item Details</th>\n                                    <th>LR No.</th>\n                                    <th>Vehicle No</th>\n                                    <th>Date</th>\n                                    <th>QTY</th>\n                                    <th>Rate</th>\n                                    <th>GST</th>\n                                    <th>Amount</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {renderItemsList()}\n                                <tr>\n                                    <td>\n                                        <Input type=\"select\" name=\"invoice_transaction_desc\" value={itemsForm.invoice_transaction_desc} onChange={handleItemsInputChange} placeholder=\"Item Details\" bsSize=\"sm\">\n                                            <option value={\"\"} defaultValue>Select Item</option>\n                                            {renderItemsOptions(items)}\n                                        </Input>\n                                    </td>\n                                    <td><Input type=\"number\" name=\"invoice_transaction_lr\" value={itemsForm.invoice_transaction_lr} onChange={handleItemsInputChange} bsSize=\"sm\" /></td>\n                                    <td><Input type=\"text\" name=\"invoice_transaction_vehicle\" value={itemsForm.invoice_transaction_vehicle} onChange={handleItemsInputChange} bsSize=\"sm\" /></td>\n                                    <td><Input type=\"date\" name=\"invoice_transaction_date\" value={itemsForm.invoice_transaction_date} onChange={handleItemsInputChange} bsSize=\"sm\" /></td>\n                                    <td><Input type=\"number\" name=\"invoice_transaction_qty\" value={itemsForm.invoice_transaction_qty} bsSize=\"sm\" onChange={handleItemsInputChange} /></td>\n                                    <td><Input type=\"number\" name=\"invoice_transaction_rate\" value={itemsForm.invoice_transaction_rate} onChange={handleItemsInputChange} bsSize=\"sm\" /></td>\n                                    <td><Input type=\"number\" name=\"invoice_transaction_gst\" value={itemsForm.invoice_transaction_gst} onChange={handleItemsInputChange} bsSize=\"sm\" /></td>\n                                    <td><Input type=\"number\" name=\"invoice_transaction_amount\" value={calculateItemAmount(itemsForm.invoice_transaction_qty, itemsForm.invoice_transaction_rate, itemsForm.invoice_transaction_gst)} bsSize=\"sm\" disabled /></td>\n                                    <td>\n                                        <Button type=\"button\" title=\"Add\" onClick={addItem} color=\"success\" size=\"sm\">\n                                            <FontAwesomeIcon icon={faPlus} />\n                                        </Button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </Table>\n\n                        <hr />\n\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"company_notes\">Company Notes</Label>\n                                    <Input type=\"textarea\" name=\"company_notes\" id=\"company_notes\" value={form.company_notes}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col md={4}>\n                                <FormGroup>\n                                    <Label htmlFor=\"terms_and_conditions\">Terms and Conditions</Label>\n                                    <Input type=\"textarea\" name=\"terms_and_conditions\" id=\"terms_and_conditions\" value={form.terms_and_conditions}\n                                        onChange={handleInputChange} />\n                                </FormGroup>\n                            </Col>\n                        </Row>\n\n                        <hr />\n\n                        {btnLoader()}\n                        {' '}\n                        <Link to=\"/supplier/invoices\">\n                            <Button type=\"button\" color=\"link\" size=\"lg\">Cancel</Button>\n                        </Link>\n                    </Form>\n                </CardBody>\n            </Card>\n        </div>\n    )\n}\n\nexport default InvoiceForm;"],"sourceRoot":""}