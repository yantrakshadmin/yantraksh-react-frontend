{"version":3,"sources":["screens/supplier/masters/items.js"],"names":["Action","_ref","item","items","setItems","_useState","useState","_useState2","Object","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","modal","setModal","toggle","useCallback","deleteItem","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_ashertoufeeq_Desktop_Yantraksh_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","deleteMasterItem","id","filter","e","toast","success","concat","name","t0","error","stop","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_14__","to","reactstrap__WEBPACK_IMPORTED_MODULE_4__","color","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__","icon","faPencilAlt","onClick","faTrashAlt","reactstrap__WEBPACK_IMPORTED_MODULE_5__","isOpen","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","ItemsTable","_ref3","renderItemsRows","length","map","i","key","type","reactstrap__WEBPACK_IMPORTED_MODULE_9__","hover","className","Items","_useState3","_useState4","useEffect","_ref4","_callee2","itemsData","_context2","fetchMasterItems","sent","apply","this","arguments","loadItemsData","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","sm","faPlus"],"mappings":"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","file":"static/js/30.abb8e37f.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Card, CardBody, Button, Table, Row, Col, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { fetchMasterItems, deleteMasterItem } from '../../../helpers/api';\nimport { toast } from 'react-toastify';\n\n\nconst Action = ({ item, items, setItems }) => {\n\n    const [modal, setModal] = useState(false);\n\n    const toggle = useCallback(\n        () => {\n            setModal(!modal);\n        },\n        [modal, setModal]\n    )\n\n    const deleteItem = useCallback(\n        async () => {\n            try {\n                await deleteMasterItem(item.id);\n                await setItems(items.filter(e => e.id !== item.id));\n                toggle();\n                toast.success(`${item.name} deleted!`);\n            } catch (err) {\n                toggle();\n                toast.error(\"Something went wrong\");\n            }\n        },\n        [item, items, setItems, toggle]\n    )\n\n    return (\n        <div>\n            <Link to={`/masters/items/edit/${item.id}`}>\n                <Button color=\"primary\"><FontAwesomeIcon icon={faPencilAlt} /></Button>{\" \"}\n            </Link>\n            <Button onClick={toggle} color=\"danger\"><FontAwesomeIcon icon={faTrashAlt} /></Button>{\" \"}\n            <Modal isOpen={modal} toggle={toggle}>\n                <ModalHeader toggle={toggle}>Delete {item.name}?</ModalHeader>\n                <ModalBody>\n                    Are you sure you want to permanently delete {item.name}?\n            </ModalBody>\n                <ModalFooter>\n                    <Button color=\"danger\" onClick={deleteItem}>Delete</Button>{' '}\n                    <Button color=\"link\" onClick={toggle}>Cancel</Button>\n                </ModalFooter>\n            </Modal>\n        </div>\n    );\n}\n\nconst ItemsTable = ({ items, setItems }) => {\n\n    const renderItemsRows = useCallback(\n        () => {\n            if (items.length > 0) {\n                return items.map(i => {\n                    return (\n                        <tr key={i.id}>\n                            <td>{i.name}</td>\n                            <td>{i.type}</td>\n                            <td><Action item={i} items={items} setItems={setItems} /></td>\n                        </tr>\n                    )\n                })\n            }\n            return <div>No Data</div>;\n        },\n        [items, setItems]\n    )\n\n    return (\n        <Table hover className=\"mt-3\">\n            <thead>\n                <tr>\n                    <th>Name</th>\n                    <th>Type</th>\n                    <th>Action</th>\n                </tr>\n            </thead>\n            <tbody>\n                {renderItemsRows()}\n            </tbody>\n        </Table>\n    );\n}\n\nconst Items = () => {\n\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        const loadItemsData = async () => {\n            const itemsData = await fetchMasterItems();\n            setItems(itemsData);\n        }\n        loadItemsData();\n    }, [setItems,])\n\n    return (\n        <div className=\"animated fadeIn\">\n            <Card>\n                <CardBody>\n                    <Row>\n                        <Col sm={6}>\n                            <h3>Items</h3>\n                        </Col>\n                        <Col sm={6} className=\"text-right\">\n                            <Link to=\"/masters/items/add\">\n                                <Button color=\"primary\"><FontAwesomeIcon icon={faPlus} /> Add Item</Button>\n                            </Link>\n                        </Col>\n                    </Row>\n\n                    <ItemsTable items={items} setItems={setItems} />\n\n                </CardBody>\n            </Card>\n        </div>\n    )\n}\n\nexport default Items;\n"],"sourceRoot":""}