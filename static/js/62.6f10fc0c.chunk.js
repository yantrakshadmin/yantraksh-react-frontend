(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{207:function(e,a,t){"use strict";var n=t(3),s=t.n(n),c=t(6),r=t(12),o=t(32),l=t(33),m=t(36),p=t(34),i=t(35),u=t(0),h=t.n(u),d=t(163),b=t(140),E=t(141),f=t(148),y=t(149),v=t(150),g=t(257),w=t(258),N=t(164),j=t(122),k=t(256),C=t(26),x=t(11),O=t(19),S=t(40),_=t(17),T=t(43),A="^[\\w.@+-]+$",P=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(p.a)(a).call(this,e))).handleChange=function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,s=a.name;t.setState(Object(r.a)({},s,n))},t.onSubmit=function(){var e=Object(c.a)(s.a.mark(function e(a){var n,c,r,o,l,m,p,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=[],t.state.username.match(A)){e.next=6;break}O.b.error("Username not valid"),e.next=10;break;case 6:return e.next=8,Object(C.K)(t.state.username);case 8:(c=e.sent).available||n.push("Username '".concat(c.username,"' not available"));case 10:if(t.state.confirmpass!==t.state.password&&n.push("Password and confirm password is not same"),0===n.length){e.next=15;break}O.b.error(n.join("\n")),e.next=40;break;case 15:if("Supplier"!==t.props.type){e.next=27;break}return e.prev=16,e.next=19,Object(C.X)(t.state);case 19:Object(x.i)("Supplier"),t.props.signInAction(t.state.username,t.state.password),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(16),Object(x.h)(),console.log(e.t0);case 27:if("Shipper"!==t.props.type){e.next=40;break}return e.prev=28,r=t.state,o=r.username,l=r.email,m=r.password,p=r.company_code,i=r.company_name,e.next=32,Object(C.W)({username:o,email:l,password:m,company_name:i,company_code:p});case 32:Object(x.i)("Shipper"),t.props.signInAction(t.state.username,t.state.password),e.next=40;break;case 36:e.prev=36,e.t1=e.catch(28),Object(x.h)(),console.log(e.t1);case 40:case"end":return e.stop()}},e,null,[[16,23],[28,36]])}));return function(a){return e.apply(this,arguments)}}(),t.state={username:"",email:"",password:"",confirmpass:"",company_code:"",company_name:"",companiesList:[]},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;"Shipper"===this.props.type?Object(C.v)(C.a).then(function(a){e.setState({companiesList:a})}).catch(function(e){return console.log(e)}):"Supplier"===this.props.type&&Object(C.v)(C.b).then(function(a){e.setState({companiesList:a})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,a=this.state.companiesList;return this.props.isAuthenticated?h.a.createElement(T.a,{to:"".concat(this.props.redirectTo.split("#")[1])}):h.a.createElement("div",{className:"app flex-row align-items-center"},h.a.createElement(d.a,null,h.a.createElement(b.a,{className:"justify-content-center"},h.a.createElement(E.a,{md:"9",lg:"7",xl:"6"},h.a.createElement(f.a,{className:"mx-4"},h.a.createElement(y.a,{className:"p-4"},h.a.createElement(v.a,{onSubmit:this.onSubmit},h.a.createElement("input",{type:"hidden",className:"form-control",name:"user-type",value:this.props.type}),h.a.createElement("h1",null,"Register for ",this.props.type),h.a.createElement("p",{className:"text-muted"},"Create your account"),h.a.createElement(g.a,{className:"mb-3"},h.a.createElement(w.a,{addonType:"prepend"},h.a.createElement(N.a,null,h.a.createElement("i",{className:"icon-user"}))),h.a.createElement("input",{type:"text",placeholder:"Username",className:"form-control",name:"username",onChange:this.handleChange,value:this.state.username})),h.a.createElement(g.a,{className:"mb-3"},h.a.createElement(w.a,{addonType:"prepend"},h.a.createElement(N.a,null,"@")),h.a.createElement("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",onChange:this.handleChange,value:this.state.email})),h.a.createElement(g.a,{className:"mb-3"},h.a.createElement(w.a,{addonType:"prepend"},h.a.createElement(N.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"form-control",onChange:this.handleChange,value:this.state.password})),h.a.createElement(g.a,{className:"mb-4"},h.a.createElement(w.a,{addonType:"prepend"},h.a.createElement(N.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"confirmpass",className:"form-control",onChange:this.handleChange,value:this.state.confirmpass})),h.a.createElement(g.a,{className:"mb-4"},h.a.createElement("div",{className:"input-group-prepend"},h.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Company")),h.a.createElement("select",{onChange:function(a){e.setState({company_name:a.target.value})},className:"custom-select",id:"inputGroupSelect01"},h.a.createElement("option",{selected:!0},"Choose..."),a.map(function(e){return h.a.createElement("option",{key:e.company_name},e.company_name)}))),h.a.createElement(g.a,{className:"mb-4"},h.a.createElement(w.a,{addonType:"prepend"},h.a.createElement(N.a,null,h.a.createElement("i",{className:"icon-lock"}))),h.a.createElement("input",{type:"number",placeholder:"Company Code",name:"company_code",className:"form-control",onChange:this.handleChange,value:this.state.company_code})),this.state.password!==this.state.confPass?"Password and confirm password should be same":"",h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(j.a,{color:"success",block:!0},"Create Account"))),h.a.createElement(k.a,{className:"p-4"}))))))}}]),a}(u.Component);a.a=Object(_.b)(function(e){return{isAuthenticated:e.auth.authenticated,redirectTo:e.navigation.redirectTo}},function(e){return{signInAction:function(a,t){return e(Object(S.b)(a,t))}}})(P)},563:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),c=t(207);a.default=function(){return s.a.createElement(c.a,{type:"Supplier"})}}}]);
//# sourceMappingURL=62.6f10fc0c.chunk.js.map