{"version":3,"sources":["screens/shipper/forms/addMastersVehicle.js"],"names":["AddMastersItem","props","_useState","useState","name","category","length","breadth","height","volume","weight","_useState2","Object","C_Users_Rahul_yantra_front_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","form","setForm","useEffect","match","params","id","_ref","C_Users_Rahul_yantra_front_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_Users_Rahul_yantra_front_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","itemData","wrap","_context","prev","next","fetchShipperMasterVehicle","sent","stop","apply","this","arguments","fetchItemData","_useState3","_useState4","phase","setPhase","handleInputChange","useCallback","event","target","value","type","checked","_objectSpread","C_Users_Rahul_yantra_front_yantraksh_react_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","renderOptions","data","map","o","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","key","btnLoader","reactstrap__WEBPACK_IMPORTED_MODULE_5__","color","size","disabled","className","role","aria-hidden","handleSubmit","_ref2","_callee2","_context2","preventDefault","editShipperMasterVehicle","toast","success","createShipperMasterVehicle","history","push","t0","error","_x","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","method","onSubmit","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","md","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","htmlFor","reactstrap__WEBPACK_IMPORTED_MODULE_14__","onChange","required","defaultValue","react_router_dom__WEBPACK_IMPORTED_MODULE_15__","to"],"mappings":"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","file":"static/js/35.b449eccc.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Card, CardHeader, CardBody, Form, FormGroup, Row, Col, Label, Input, Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { createShipperMasterVehicle, fetchShipperMasterVehicle, editShipperMasterVehicle } from '../../../helpers/api';\r\nimport history from '../../../history';\r\n\r\n\r\nconst AddMastersItem = props => {\r\n\r\n    const optionsData = {\r\n        category: [\r\n            'Open',\r\n            'Container',\r\n            'Trailer',\r\n        ],\r\n    }\r\n\r\n    const [form, setForm] = useState({\r\n        name: '',\r\n        category: '',\r\n        length: 0,\r\n        breadth: 0,\r\n        height: 0,\r\n        volume: 0,\r\n        weight: 0,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (props.match.params.id) {\r\n            const fetchItemData = async () => {\r\n                const itemData = await fetchShipperMasterVehicle(props.match.params.id);\r\n                setForm(itemData);\r\n            }\r\n            fetchItemData();\r\n        }\r\n    }, [setForm])\r\n\r\n    const [phase, setPhase] = useState(0);\r\n\r\n    const handleInputChange = useCallback(\r\n        event => {\r\n            const target = event.target;\r\n            const value = target.type === 'checkbox' ? target.checked : target.value;\r\n            const name = target.name;\r\n\r\n            setForm({\r\n                ...form,\r\n                [name]: value\r\n            });\r\n        },\r\n        [form, setForm]\r\n    )\r\n\r\n    const renderOptions = useCallback(\r\n        data => {\r\n            return data.map(o => {\r\n                return <option key={o} value={o}>{o}</option>;\r\n            });\r\n        },\r\n        []\r\n    )\r\n\r\n    const btnLoader = useCallback(\r\n        () => {\r\n            if (phase === 1) {\r\n                return (\r\n                    <Button color=\"primary\" size=\"lg\" disabled>\r\n                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Saving\r\n                    </Button>\r\n                );\r\n            }\r\n            return <Button type=\"submit\" color=\"primary\" size=\"lg\">Save</Button>;\r\n        },\r\n        [phase,]\r\n    )\r\n\r\n    const handleSubmit = useCallback(\r\n        async event => {\r\n            event.preventDefault();\r\n            setPhase(1);\r\n            try {\r\n                if (props.match.params.id) {\r\n                    await editShipperMasterVehicle(props.match.params.id, form);\r\n                    setPhase(0);\r\n                    toast.success('Vehicle Updated Successfully');\r\n                } else {\r\n                    await createShipperMasterVehicle(form);\r\n                    setPhase(0);\r\n                    toast.success('Vehicle Created Successfully');\r\n                    history.push('/dashboard/masters/vehicles');\r\n                }\r\n\r\n            } catch (err) {\r\n                toast.error('Something went wrong!');\r\n                setPhase(0);\r\n            }\r\n        },\r\n        [form, setPhase,]\r\n    )\r\n\r\n    return (\r\n        <div className=\"animated fadeIn\">\r\n            <Card>\r\n                <CardHeader>\r\n                    {props.match.params.id ? <b>Edit Vehicle</b> : <b>Add Vehicle</b>}\r\n                </CardHeader>\r\n                <CardBody>\r\n                    <Form method=\"post\" onSubmit={handleSubmit}>\r\n\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"name\">Name*</Label>\r\n                                    <Input type=\"text\" name=\"name\" id=\"name\" value={form.name}\r\n                                        onChange={handleInputChange} required />\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"category\">Category</Label>\r\n                                    <Input type=\"select\" id=\"category\"\r\n                                        name={\"category\"}\r\n                                        value={form.category}\r\n                                        onChange={handleInputChange}\r\n                                    >\r\n                                        <option value={\"\"} defaultValue>Select Category</option>\r\n                                        {renderOptions(optionsData.category)}\r\n                                    </Input>\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <hr />\r\n\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"length\">Length (Ft)</Label>\r\n                                    <Input type=\"number\" name=\"length\" id=\"length\" value={form.length}\r\n                                        onChange={handleInputChange} />\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"breadth\">Breadth (Ft)</Label>\r\n                                    <Input type=\"number\" name=\"breadth\" id=\"breadth\" value={form.breadth}\r\n                                        onChange={handleInputChange} />\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"height\">Height (Ft)</Label>\r\n                                    <Input type=\"number\" name=\"height\" id=\"height\" value={form.height}\r\n                                        onChange={handleInputChange} />\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"volume\">Volume</Label>\r\n                                    <Input type=\"number\" name=\"volume\" id=\"volume\" value={form.volume}\r\n                                        onChange={handleInputChange} />\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"weight\">Weight (Tn)</Label>\r\n                                    <Input type=\"number\" name=\"weight\" id=\"weight\" value={form.weight}\r\n                                        onChange={handleInputChange} />\r\n                                </FormGroup>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <hr />\r\n\r\n                        {btnLoader()}\r\n                        {' '}\r\n                        <Link to=\"/masters/vehicles\">\r\n                            <Button type=\"button\" color=\"link\" size=\"lg\">Cancel</Button>\r\n                        </Link>\r\n                    </Form>\r\n                </CardBody>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddMastersItem;\r\n"],"sourceRoot":""}