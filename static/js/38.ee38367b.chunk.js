(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{611:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(11),c=a(3),l=a.n(c),u=a(6),i=a(111),m=a(0),o=a.n(m),s=a(117),d=a(124),p=a(134),b=a(125),E=a(133),f=a(119),h=a(120),v=a(137),y=a(138),O=a(135),j=a(139),k=a(116),w=a(18),_=a(127),g=a(128),C=a(145),x=a.n(C),S=a(24),V=a(28);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}t.default=function(e){var t=Object(m.useState)({warehouse:"",vendor:"",reference_no:"",inward_date:"",driver_number:"",vehicle_number:"",vehicle_type:"",invoice_no:"",items:[],remarks:"",reciever:""}),a=Object(i.a)(t,2),c=a[0],C=a[1],q=Object(m.useState)([]),P=Object(i.a)(q,2),N=P[0],A=P[1],D=Object(m.useState)([]),I=Object(i.a)(D,2),z=I[0],T=I[1],R=Object(m.useState)([]),G=Object(i.a)(R,2),L=G[0],J=G[1],U=Object(m.useState)({item:"",item_quantity:0}),W=Object(i.a)(U,2),X=W[0],K=W[1];Object(m.useEffect)(function(){var t=function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.lb)();case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.rb)();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.pb)();case 2:t=e.sent,J(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),r=function(){var t=Object(u.a)(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.match.params.id){t.next=5;break}return t.next=3,Object(V.Z)(e.match.params.id);case 3:a=t.sent,C(a);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();t(),a(),n(),r()},[A,T,J]);var M=Object(m.useState)(0),Q=Object(i.a)(M,2),Y=Q[0],Z=Q[1],B=Object(m.useCallback)(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;C(F({},c,Object(r.a)({},n,a)))},[c,C]),H=Object(m.useCallback)(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;K(F({},X,Object(r.a)({},n,a)))},[X,K]),$=Object(m.useCallback)(function(e){return e.map(function(e){return o.a.createElement("option",{key:e,value:e},e)})},[]),ee=Object(m.useCallback)(function(){if(N.length>0)return N.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)})}),te=Object(m.useCallback)(function(){if(z.length>0)return z.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.warehouse_name)})},[z]),ae=Object(m.useCallback)(function(){if(L.length>0)return L.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.vendor_name)})},[L]),ne=Object(m.useCallback)(Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C(F({},c,{items:[].concat(Object(n.a)(c.items),[X])})),K({item:"",item_quantity:""});case 2:case"end":return e.stop()}},e)})),[c,C,X,K]),re=Object(m.useCallback)(function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C(F({},c,"id"in t?{items:c.items.filter(function(e){return e.id!==t.id})}:{items:c.items.filter(function(e){return e!==t})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[c,C]),ce=Object(m.useCallback)(function(){return X.item&&X.item_quantity?o.a.createElement(s.a,{onClick:ne,type:"button",title:"Add",color:"success",size:"sm"},o.a.createElement(_.a,{icon:g.d})):o.a.createElement(s.a,{type:"button",title:"Add",color:"success",size:"sm",disabled:!0},o.a.createElement(_.a,{icon:g.d}))}),le=Object(m.useCallback)(function(){if(c.items.length>0&&N.length>0)return c.items.map(function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,x.a.find(N,{id:parseInt(e.item)}).name),o.a.createElement("td",null,e.item_quantity),o.a.createElement("td",null,o.a.createElement(s.a,{type:"button",title:"Delete Item",onClick:function(){return re(e)},color:"danger",size:"sm"},o.a.createElement(_.a,{icon:g.b}))))})},[c,N]),ue=Object(m.useCallback)(function(){return 1===Y?o.a.createElement(s.a,{color:"primary",size:"lg",disabled:!0},o.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Saving"):o.a.createElement(s.a,{type:"submit",color:"primary",size:"lg"},"Save")},[Y]),ie=Object(m.useCallback)(function(){var t=Object(u.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Z(1),t.prev=2,!e.match.params.id){t.next=10;break}return t.next=6,Object(V.K)(e.match.params.id,c);case 6:Z(0),w.b.success("Item Updated Successfully"),t.next=15;break;case 10:return t.next=12,Object(V.q)(c);case 12:Z(0),w.b.success("Grn Created Successfully"),S.a.push("/dashboard/grn");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),w.b.error("Something went wrong!"),Z(0);case 21:case"end":return t.stop()}},t,null,[[2,17]])}));return function(e){return t.apply(this,arguments)}}(),[c,Z,e]);return o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(d.a,null,o.a.createElement(p.a,null,e.match.params.id?o.a.createElement("b",null,"Edit GRN"):o.a.createElement("b",null,"Add GRN")),o.a.createElement(b.a,null,o.a.createElement(E.a,{method:"post",onSubmit:ie},o.a.createElement(f.a,null,o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"warehouse"},"Warehouse*"),o.a.createElement(O.a,{type:"select",id:"warehouse",name:"warehouse",value:c.warehouse,onChange:B,required:!0},o.a.createElement("option",{value:"",defaultValue:!0},"Select a Warehouse"),te()))),o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"vendor"},"Vendor*"),o.a.createElement(O.a,{type:"select",id:"vendor",name:"vendor",value:c.vendor,onChange:B,required:!0},o.a.createElement("option",{value:"",defaultValue:!0},"Select a Vendor"),ae())))),o.a.createElement("hr",null),o.a.createElement(f.a,null,o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"reciever"},"Receiver"),o.a.createElement(O.a,{type:"text",name:"reciever",id:"reciever",value:c.reciever,onChange:B})))),o.a.createElement("hr",null),o.a.createElement(f.a,null,o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"invoice_no"},"Invoice No."),o.a.createElement(O.a,{type:"text",name:"invoice_no",id:"invoice_no",value:c.invoice_no,onChange:B}))),o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"reference_no"},"Reference No."),o.a.createElement(O.a,{type:"text",name:"reference_no",id:"reference_no",value:c.reference_no,onChange:B}))),o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"inward_date"},"Inward Date"),o.a.createElement(O.a,{type:"date",name:"inward_date",id:"inward_date",value:c.inward_date,onChange:B,required:!0})))),o.a.createElement("hr",null),o.a.createElement(f.a,null,o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"driver_number"},"Driver No."),o.a.createElement(O.a,{type:"text",name:"driver_number",id:"driver_number",value:c.driver_number,onChange:B}))),o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"vehicle_number"},"Vehicle No."),o.a.createElement(O.a,{type:"text",name:"vehicle_number",id:"vehicle_number",value:c.vehicle_number,onChange:B}))),o.a.createElement(h.a,{md:4},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"vehicle_type"},"Vehicle Type"),o.a.createElement(O.a,{type:"select",id:"vehicle_type",name:"vehicle_type",value:c.vehicle_type,onChange:B},o.a.createElement("option",{value:"",defaultValue:!0},"Select Vehicle Type"),$(["Part Load","Tata ACE / Pick-Up","TATA-407","17ft Vehicle","19ft Vehicle","20ft Vehicle","22ft Vehicle","32ft SXL","32ft MXL","Any Other Type"]))))),o.a.createElement("hr",null),o.a.createElement(f.a,null,o.a.createElement(h.a,{md:12},o.a.createElement(j.a,{className:"mt-3",striped:!0,responsive:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Item*"),o.a.createElement("th",null,"QTY*"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,le(),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(O.a,{type:"select",id:"item",name:"item",value:X.item,onChange:H},o.a.createElement("option",{value:"",defaultValue:!0},"Select Item"),ee())),o.a.createElement("td",null,o.a.createElement(O.a,{type:"number",name:"item_quantity",value:X.item_quantity,onChange:H,bsSize:"sm"})),o.a.createElement("td",null,ce())))))),o.a.createElement("hr",null),o.a.createElement(f.a,null,o.a.createElement(h.a,{md:12},o.a.createElement(v.a,null,o.a.createElement(y.a,{htmlFor:"remarks"},"Remarks"),o.a.createElement(O.a,{type:"text",name:"remarks",id:"remarks",value:c.remarks,onChange:B})))),o.a.createElement("hr",null),ue()," ",o.a.createElement(k.a,{to:"/grn"},o.a.createElement(s.a,{type:"button",color:"link",size:"lg"},"Cancel"))))))}}}]);
//# sourceMappingURL=38.ee38367b.chunk.js.map