(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{627:function(e,t,n){"use strict";n.r(t);var a=n(20),c=n(11),i=n(3),r=n.n(i),l=n(6),o=n(111),m=n(0),s=n.n(m),u=n(117),_=n(124),v=n(134),d=n(125),E=n(133),p=n(119),h=n(120),b=n(137),f=n(138),g=n(135),y=n(139),O=n(28),C=n(217),j=n(127),x=n(128),w=n(18);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default=Object(C.a)(function(e){var t=Object(m.useState)({}),n=Object(o.a)(t,2),i=n[0],C=n[1],S=Object(m.useState)([]),k=Object(o.a)(S,2),z=(k[0],k[1],Object(m.useState)({invoice_transaction_desc:"",invoice_transaction_lr:"",invoice_transaction_vehicle:"",invoice_transaction_date:"",invoice_transaction_qty:"",invoice_transaction_amount:"",invoice_transaction_gst:""})),I=Object(o.a)(z,2),P=I[0],N=I[1];Object(m.useEffect)(function(){!function(){var t=Object(l.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.zb)(e.match.params.id);case 2:n=t.sent,C(n),console.log(n);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[C]);var q=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;C(D({},i,Object(c.a)({},a,n)))},A=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;N(D({},P,Object(c.a)({},a,n)))},T=function(){var e=Object(l.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{C(D({},i,{invoice_transanctions:[].concat(Object(a.a)(i.invoice_transanctions),[P])})),N({invoice_transaction_desc:"",invoice_transaction_lr:"",invoice_transaction_vehicle:"",invoice_transaction_date:"",invoice_transaction_qty:"",invoice_transaction_amount:"",invoice_transaction_gst:""})}catch(t){w.b.error("Something went wrong!")}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C(D({},i,"id"in t?{invoice_transanctions:i.invoice_transanctions.filter(function(e){return e.id!==t.id})}:{invoice_transanctions:i.invoice_transanctions.filter(function(e){return e.invoice_transaction_desc!==t.invoice_transaction_desc})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var t=Object(l.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,Object(O.L)(i,e.match.params.id);case 4:return t.t0=C,t.next=7,Object(O.zb)(e.match.params.id);case 7:t.t1=t.sent,(0,t.t0)(t.t1),w.b.success("Invoice Updated."),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(1),w.b.error("Something went wrong!");case 15:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(_.a,null,s.a.createElement(v.a,null,s.a.createElement("strong",null,"Edit Invoice")),s.a.createElement(d.a,null,s.a.createElement(E.a,{method:"post",onSubmit:M},s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_number"},"Invoice Number"),s.a.createElement(g.a,{type:"number",name:"invoice_number",id:"invoice_number",value:i.invoice_number,onChange:q})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_order_number"},"Order Number"),s.a.createElement(g.a,{type:"text",name:"invoice_order_number",id:"invoice_order_number",value:i.invoice_order_number,onChange:q})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_date"},"Invoice Date"),s.a.createElement(g.a,{type:"datetime-local",name:"invoice_date",id:"invoice_date",value:i.invoice_date,onChange:q}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_due_date"},"Invoice Due Date"),s.a.createElement(g.a,{type:"datetime-local",name:"invoice_due_date",id:"invoice_due_date",onChange:q,valid:i.invoice_due_date})))),s.a.createElement("hr",null),s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_salesperson"},"Salesperson"),s.a.createElement(g.a,{type:"text",name:"invoice_salesperson",id:"invoice_salesperson",onChange:q,value:i.invoice_salesperson})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_service_month"},"Service Month"),s.a.createElement(g.a,{type:"text",name:"invoice_service_month",id:"invoice_service_month",value:i.invoice_service_month,onChange:q})))),s.a.createElement("hr",null),s.a.createElement(y.a,{className:"mt-3",striped:!0,responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Item Details"),s.a.createElement("th",null,"LR No."),s.a.createElement("th",null,"Vehicle No."),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Quantity"),s.a.createElement("th",null,"Amount"),s.a.createElement("th",null,"GST"),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",null,function(){if(i.invoice_transanctions)return i.invoice_transanctions.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.invoice_transaction_desc),s.a.createElement("td",null,e.invoice_transaction_lr),s.a.createElement("td",null,e.invoice_transaction_vehicle),s.a.createElement("td",null,function(e){var t=new Date(e),n=t.getHours(),a=t.getMinutes(),c=t.getSeconds();return s.a.createElement("span",null,t.getDate(),"-",t.getMonth()+1,"-",t.getFullYear()," ",("0"+n).slice(-2),":",("0"+a).slice(-2),":",("0"+c).slice(-2))}(e.invoice_transaction_date)),s.a.createElement("td",null,e.invoice_transaction_qty),s.a.createElement("td",null,"\u20b9",e.invoice_transaction_amount),s.a.createElement("td",null,e.invoice_transaction_gst),s.a.createElement("td",null,s.a.createElement(u.a,{type:"button",title:"Delete Item",onClick:function(){return L(e)},color:"danger",size:"sm"},s.a.createElement(j.a,{icon:x.b}))))})}(),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(g.a,{type:"text",name:"invoice_transaction_desc",value:P.invoice_transaction_desc,onChange:A,placeholder:"Enter Item Details",bsSize:"sm"})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"number",name:"invoice_transaction_lr",value:P.invoice_transaction_lr,onChange:A,bsSize:"sm"})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"number",name:"invoice_transaction_vehicle",value:P.invoice_transaction_vehicle,onChange:A,bsSize:"sm"})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"datetime-local",name:"invoice_transaction_date",value:P.invoice_transaction_date,onChange:A,bsSize:"sm"})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"number",name:"invoice_transaction_qty",value:P.invoice_transaction_qty,bsSize:"sm",onChange:A})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"number",name:"invoice_transaction_amount",value:P.invoice_transaction_amount,bsSize:"sm",onChange:A})),s.a.createElement("td",null,s.a.createElement(g.a,{type:"number",name:"invoice_transaction_gst",value:P.invoice_transaction_gst,bsSize:"sm",onChange:A})),s.a.createElement("td",null,P.invoice_transaction_desc&&P.invoice_transaction_lr&&P.invoice_transaction_vehicle&&P.invoice_transaction_date&&P.invoice_transaction_qty&&P.invoice_transaction_amount&&P.invoice_transaction_gst?s.a.createElement(u.a,{type:"button",title:"Add",onClick:T,color:"success",size:"sm"},s.a.createElement(j.a,{icon:x.d})):s.a.createElement(u.a,{type:"button",title:"Fill all fields!",color:"success",size:"sm",disabled:!0},s.a.createElement(j.a,{icon:x.d})))))),s.a.createElement("hr",null),s.a.createElement(p.a,null,s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_place_of_supply"},"Place of Supply"),s.a.createElement(g.a,{type:"text",name:"invoice_place_of_supply",id:"invoice_place_of_supply",value:i.invoice_place_of_supply,onChange:q}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_destination"},"Invoice Destination"),s.a.createElement(g.a,{type:"text",name:"invoice_destination",id:"invoice_destination",value:i.invoice_destination,onChange:q})))),s.a.createElement("hr",null),s.a.createElement(p.a,null,s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_destination_address"},"Destination Address"),s.a.createElement(g.a,{type:"text",name:"invoice_destination_address",id:"invoice_destination_address",onChange:q,value:i.invoice_destination_address}))),s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_destination_pincode"},"Destination PINCODE"),s.a.createElement(g.a,{type:"text",name:"invoice_destination_pincode",id:"invoice_destination_pincode",value:i.invoice_destination_pincode,onChange:q}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_gst"},"Invoice GST"),s.a.createElement(g.a,{type:"text",name:"invoice_gst",id:"invoice_gst",value:i.invoice_gst,onChange:q})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_lr_number"},"LR number"),s.a.createElement(g.a,{type:"number",name:"invoice_lr_number",id:"invoice_lr_number",value:i.invoice_lr_number,onChange:q}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_vehicle_placement_date"},"Vehicle Placement Date"),s.a.createElement(g.a,{type:"datetime-local",name:"invoice_vehicle_placement_date",id:"invoice_vehicle_placement_date",value:i.invoice_vehicle_placement_date,onChange:q})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_vehicle_number"},"Vehicle Number"),s.a.createElement(g.a,{type:"text",name:"invoice_vehicle_number",id:"invoice_vehicle_number",onChange:q,value:i.invoice_vehicle_number}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_item_details"},"invoice Item Details"),s.a.createElement(g.a,{type:"text",name:"invoice_item_details",id:"invoice_item_details",value:i.invoice_item_details,onChange:q})))),s.a.createElement(p.a,null,s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_rate"},"Invoice Rate"),s.a.createElement(g.a,{type:"text",name:"invoice_rate",id:"invoice_rate",onChange:q,value:i.invoice_rate}))),s.a.createElement(h.a,{lg:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_tax"},"TAX"),s.a.createElement(g.a,{type:"text",name:"invoice_tax",id:"invoice_tax",value:i.invoice_tax,onChange:q}))),s.a.createElement(h.a,{md:4},s.a.createElement(b.a,null,s.a.createElement(f.a,{for:"invoice_amount"},"Total Amount"),s.a.createElement(g.a,{type:"text",name:"invoice_amount",id:"invoice_amount",value:i.invoice_amount,onChange:q})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(u.a,{type:"submit",color:"primary",size:"lg"},"Update invoice")," \xa0\xa0\xa0",s.a.createElement(u.a,{color:"link",size:"lg",type:"button",onClick:function(){return e.history.push("/freight/financial")}},"Cancel"))))})}}]);
//# sourceMappingURL=104.538e66a8.chunk.js.map