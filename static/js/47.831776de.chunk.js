(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{123:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"c",function(){return m}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return f});var r=a(3),n=a.n(r),l=a(6),c=a(26),o=a(39),s=a(5),i=a(11),d=function(){return function(){var e=Object(l.a)(n.a.mark(function e(t,a){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.F)();case 3:r=e.sent,t({type:s.d,orders:r}),Object(i.e)(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(i.b)();case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()},u=function(e,t){return function(){var a=Object(l.a)(n.a.mark(function a(r,l){var o,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l().data.orders.data,i=o.slice(),r({type:s.c}),a.next=5,Object(c.N)(e);case 5:o.map(function(t,a){return e.includes(t.id)&&(i[a].rtd=!1,i[a].is_dispatched=!1),null}),r({type:s.d,orders:i}),t("/orders/on-hold");case 8:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var a=Object(l.a)(n.a.mark(function a(r,l){var o,i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l().data.orders.data,i=o.slice(),r({type:s.c}),a.next=5,Object(c.O)(e);case 5:o.map(function(t,a){return e.includes(t.id)&&(i[a].rtd=!0,i[a].is_dispatched=!1),null}),r({type:s.d,orders:i}),t("/orders/ready-to-dispatch");case 8:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(l.a)(n.a.mark(function t(a,r){var l,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r().data.orders.data,o=l.slice(),a({type:s.c}),t.next=5,Object(c.Q)();case 5:l.map(function(e,t){return o[t.rtd]&&(o[t].rtd=!1,o[t].is_dispatched=!0),null}),a({type:s.d,orders:o}),e("/dispatcher");case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},f=function(e,t,a,r){return function(){var r=Object(l.a)(n.a.mark(function r(l,i){var u;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=i().data.orders.data,u.slice(),r.next=4,l({type:s.c});case 4:return r.next=6,Object(c.R)(e,t,a);case 6:d()(l,i),o.a.push("/dashboard/dispatcher");case 8:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()}},127:function(e,t,a){"use strict";var r=a(33),n=a(34),l=a(36),c=a(35),o=a(40),s=a(37),i=a(3),d=a.n(i),u=a(6),m=a(0),p=a.n(m),f=a(122),h=a(576),b=a(134),g=(a(26),a(121)),E=a(19),v=a(123),y=a(17);function _(e){var t=Object(b.a)(),a=t.acceptedFiles,r=t.getRootProps,n=t.getInputProps;return console.log(a),p.a.createElement("section",null,p.a.createElement("div",Object.assign({},r({className:"dropzone"}),{style:{height:"50vh",display:"flex",justifyContent:"center",alignItems:"center",padding:20,textAlign:"center"}}),p.a.createElement("div",null,a[0]?p.a.createElement("div",null,p.a.createElement("h5",null,a[0].path," (",a[0].size/1e3," Kbytes)"),p.a.createElement("br",null),p.a.createElement(f.a,{color:"primary",size:"lg",onClick:Object(u.a)(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.upload(a[0]);case 3:return t.next=5,e.loadOrders();case 5:return t.next=7,e.onClose();case 7:E.b.success("Upload Successful!"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),E.b.error("Upload failed!");case 14:case"end":return t.stop()}},t,null,[[0,10]])}))},p.a.createElement("i",{className:"icon-cloud-upload"})," \xa0 Upload"),p.a.createElement(g.a,{to:"/orders/all"}),p.a.createElement(f.a,{color:"error",onClick:function(t){return e.onClose(t)}},"Cancel")):p.a.createElement("div",null,p.a.createElement("i",{className:"icon-cloud-upload",style:{fontSize:"5rem"}}),p.a.createElement("br",null),p.a.createElement("input",n()),p.a.createElement("h3",null,"Drag & drop files here, or click to select files")))))}var O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={modal:!1,backdrop:!0},a.toggle=a.toggle.bind(Object(o.a)(a)),a.changeBackdrop=a.changeBackdrop.bind(Object(o.a)(a)),a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"changeBackdrop",value:function(e){var t=e.target.value;"static"!==t&&(t=JSON.parse(t)),this.setState({backdrop:t})}},{key:"render",value:function(){return p.a.createElement("div",{style:{display:"inline-block"}},p.a.createElement(h.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,backdrop:!0,style:{padding:0,height:"50vh",width:"50vw",top:"25%"}},p.a.createElement(_,{loadOrders:this.props.loadOrders,upload:this.props.upload,onClose:this.toggle})),p.a.createElement(f.a,{color:"secondary",style:{backgroundColor:"white"},onClick:this.toggle},p.a.createElement("i",{className:"icon-cloud-upload"})," \xa0 Upload"))}}]),t}(p.a.Component);t.a=Object(y.b)(null,{loadOrders:v.a})(O)},531:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),l=a(6),c=a(112),o=a(0),s=a.n(o),i=a(149),d=a(176),u=a(140),m=a(141),p=a(150),f=a(117),h=a.n(f),b=a(120),g=a.n(b),E=a(119),v=a.n(E),y=a(11),_=a(26),O=a(38),x=a(121),w=a(122),j=a(127),k=a(125),N=a(126);function F(e){var t=e.getHours(),a=e.getMinutes(),r=e.getSeconds();return s.a.createElement("span",null,e.getDate(),"-",e.getMonth()+1,"-",e.getFullYear()," ",("0"+t).slice(-2),":",("0"+a).slice(-2),":",("0"+r).slice(-2))}var C=[{dataField:"lr_quiz",text:"Origin",sort:!0,formatter:function(e,t){return t.lr_quiz.origin}},{dataField:"lr_quiz",text:"Destination",sort:!0,formatter:function(e,t){return t.lr_quiz.destination}},{dataField:"lr_quiz",text:"Weight",sort:!0,formatter:function(e,t){return t.lr_quiz.weight}},{dataField:"lr_quiz",text:"Scheduled Date",sort:!0,formatter:function(e,t){return F(new Date(t.lr_quiz.scheduled_date))}},{dataField:"lr_invoice_date",text:"Invoice Date",sort:!0,formatter:function(e,t){return F(new Date(t.lr_invoice_date))}},{dataField:"lr_consignor_name",text:"Consignor",sort:!0},{dataField:"lr_consignee_name",text:"Consignee",sort:!0},{dataField:"lr_billingparty",text:"Billing Party",sort:!0},{dataField:"lr_declared",text:"Declared",sort:!0},{dataField:"Edit LR",text:"Edit LR",sort:!0,formatter:function(e,t){return s.a.createElement("div",null,s.a.createElement(x.a,{to:"/freight/edit-lr/".concat(t.id)},s.a.createElement(w.a,{color:"primary"},"Edit LR")))}},{dataField:"Print LR",text:"Print LR",sort:!0,formatter:function(e,t){return s.a.createElement("div",null,s.a.createElement(x.a,{to:"/freight/request-for-quotation/bids/".concat(t.id)},s.a.createElement(w.a,{color:"primary"},"Print LR")))}},{dataField:"Upload POD",text:"Upload POD",sort:!0,isDummyField:!0,formatter:function(e,t){return s.a.createElement("div",null,s.a.createElement(j.a,{to:"/freight/request-for-quotation/bids/".concat(t.id)}))}}];t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];Object(o.useEffect)(function(){var e=function(){var e=Object(l.a)(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(y.f)(),e.next=3,Object(_.c)();case 3:t=e.sent,console.log(t),r(t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();e(),e()},[]);var b=Object(o.useState)([{total_time:"0"},{total_trucks:"0"},{total_orders:"0"},{total_orders_planned:"0"},{total_rfq:"0"},{total_bids:"0"},{total_orders_hold:"0"},{total_orders_delayed:"0"},{total_orders_pending:"0"},{total_trucks_assigned:"0"},{total_trucks_in_transit:"0"},{total_weight:"0"},{total_distance:"0"}]),E=Object(c.a)(b,2),x=E[0],w=(E[1],[{data:[35,23,56,22,97,23,64],label:"New Clients"},{data:[65,59,84,84,51,55,40],label:"Recurring Clients"},{data:[35,23,56,22,97,23,64],label:"Pageviews"},{data:[65,59,84,84,51,55,40],label:"Organic"},{data:[78,81,80,45,34,12,40],label:"CTR"},{data:[1,13,9,17,34,41,38],label:"Bounce Rate"}]),j=Object(N.getStyle)("--primary"),F=Object(N.getStyle)("--danger"),R={tooltips:{enabled:!1},responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},legend:{display:!1}},S=function(e,t){var a=w[e],r={labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{backgroundColor:"transparent",borderColor:t||"#c2cfd6",data:a.data,label:a.label}]};return function(){return r}};return s.a.createElement("div",{className:"animated fadeIn"},s.a.createElement(i.a,null,s.a.createElement(d.a,null,s.a.createElement("i",{className:"fa fa-align-justify"})," Trips ",s.a.createElement("small",{className:"text-muted"}),s.a.createElement(u.a,null,s.a.createElement(m.a,{sm:"3"},s.a.createElement("div",{className:"callout callout-info"},s.a.createElement("small",{className:"text-muted"},"Total Bids received"),s.a.createElement("br",null),x.map(function(e){return s.a.createElement("strong",{className:"h4"},e.total_bids)}),s.a.createElement("div",{className:"chart-wrapper"},s.a.createElement(k.b,{data:S(0,j),options:R,width:100,height:30})))),s.a.createElement(m.a,{sm:"3"},s.a.createElement("div",{className:"callout callout-danger"},s.a.createElement("small",{className:"text-muted"},"Total RFQ Raised"),s.a.createElement("br",null),x.map(function(e){return s.a.createElement("strong",{className:"h4"},e.total_rfq)}),s.a.createElement("div",{className:"chart-wrapper"},s.a.createElement(k.b,{data:S(1,F),options:R,width:100,height:30})))),s.a.createElement(m.a,{sm:"3"},s.a.createElement("div",{className:"callout callout-info"},s.a.createElement("small",{className:"text-muted"},"Total Trucks Assigned"),s.a.createElement("br",null),x.map(function(e){return s.a.createElement("strong",{className:"h4"},e.total_trucks_assigned)}),s.a.createElement("div",{className:"chart-wrapper"},s.a.createElement(k.b,{data:S(0,j),options:R,width:100,height:30})))),s.a.createElement(m.a,{sm:"3"},s.a.createElement("div",{className:"callout callout-danger"},s.a.createElement("small",{className:"text-muted"},"Total Trucks In Transit"),s.a.createElement("br",null),x.map(function(e){return s.a.createElement("strong",{className:"h4"},e.total_trucks)}),s.a.createElement("div",{className:"chart-wrapper"},s.a.createElement(k.b,{data:S(1,F),options:R,width:100,height:30})))))),s.a.createElement(p.a,null,s.a.createElement(h.a,{keyField:"id",data:a,columns:C,search:!0},function(e){return s.a.createElement("div",null,s.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,float:"right"}},"\xa0\xa0\xa0\xa0\xa0",s.a.createElement(f.Search.SearchBar,e.searchProps)),s.a.createElement(g.a,Object.assign({},e.baseProps,{hover:!0,condensed:!0,striped:!0,bordered:!1,pagination:v()(),noDataIndication:O.a})))}))))}}}]);
//# sourceMappingURL=47.831776de.chunk.js.map